<h2>Overlays</h2>
<section>
    <h3>Introduction</h3>


    A linked object that provides an extra layer of contextual and/or conditional information to a schema base. Overlays
    can be used by an issuer or viewer to transform how information is displayed to a viewer or to guide a verifier or
    holder in how to apply a custom process to schema data.
    <br /><br />
    The purpose of the Overlay is introduce dynamic properties to static schema base.

</section>

<section>

    <h3>Core overlays</h3>

    Core overlays are the overlays which are mandatory in certian conditions for each schema base.
    Core overlays are necessary for overall data harmonization and facilitiating unify data language.

    <section>
        <h4> Character encoding overlay</h4>
        An Character encoding overlay is used to define character set encoding (e.g. UTF-8, ISO-8859-1, Windows-1251,
        Base58Check, etc.) used to capture input data.

        <pre class="example"> {
    // set the context - establishing the special terms to be used
    "@context": "https://oca.colossi.network/overlays/v1",
    // the object type - declaring the structure of the object
    "type": "spec/overlay/character_encoding/1.0",
    // identifier for the issuer of the overlay
    "issued_by": "did:ebfeb1f712ebc6f1c276e12ec21",
    // the role of the main beneficiary of the overlay
    "role": "",
    // the purpose of the overlay
    "purpose": "",
    // the linking identifier for the schema base
    "schema_base": "hl:5vLMW87oJu5wzQPDtQmD2PQ5auPBxneiMKtW7Yck6hsH",
    // default character set encoding
    "default_character_encoding": "utf-8",
    // defined character set encodings
    "attr_character_encoding": {
      "email": "utf-8",
      "firstname": "utf-8",
      "lastname": "utf-8",
      "salutation": "utf-8",
      "birthdate": "utf-8",
      "gender": "utf-8"
    }
  }</pre>
    </section>
    <section>
        <h5>Entry Overlay</h5>
        Entry Overlay is used to add predefined field values to schema attributes to avoid free form text fields.
        <pre class="example">
    {
        // set the context - establishing the special terms to be used
        "@context": "https://oca.tech/overlays/v1",
        // the object type - declaring the structure of the object
        "type": "spec/overlay/entry/1.0",
        // identifier for the issuer of the overlay
        "issued_by": "did:example:ebfeb1f712ebc6f1c276e12ec21",
        // the role of the main beneficiary of the overlay
        "role": "",
        // the purpose of the overlay
        "purpose": "",
        // the linking identifier for the schema base
        "schema_base": "hl:5vLMW87oJu5wzQPDtQmD2PQ5auPBxneiMKtW7Yck6hsH",
        // specified language
        "language": "en_US",
        // defined entries
        "attr_entries": {
          "salutation": [
            "Mr",
            "Mrs",
            "Ms",
            "Mstr"
          ],
          "gender": [
            "Female",
            "Male"
          ]
        }
      }
</pre>
    </section>
    <section>
        <h5>Format overlay</h5>
        Defines format of the data input.
        <pre class="example">
    {
        // set the context - establishing the special terms to be used
        "@context": "https://oca.tech/overlays/v1",
        // the object type - declaring the structure of the object
        "type": "spec/overlay/format/1.0",
        // identifier for the issuer of the overlay
        "issued_by": "did:example:ebfeb1f712ebc6f1c276e12ec21",
        // the role of the main beneficiary of the overlay
        "role": "",
        // the purpose of the overlay
        "purpose": "",
        // the linking identifier for the schema base
        "schema_base": "hl:5vLMW87oJu5wzQPDtQmD2PQ5auPBxneiMKtW7Yck6hsH",
        // defined formats
        "attr_formats": {
          "birthdate": "DD/MM/YYYY"
        }
      }
</pre>
    </section>

    <section>
        <h5>Label overlay</h5>
        Label overlay is used to add human readable labels to schema base attributes (incl. category labels).
        <pre class="example">
    {
        // set the context - establishing the special terms to be used
        "@context": "https://oca.tech/overlays/v1",
        // the object type - declaring the structure of the object
        "type": "spec/overlay/label/1.0",
        // identifier for the issuer of the overlay
        "issued_by": "did:example:ebfeb1f712ebc6f1c276e12ec21",
        // the role of the main beneficiary of the overlay
        "role": "",
        // the purpose of the overlay
        "purpose": "",
        // the linking identifier for the schema base
        "schema_base": "hl:5vLMW87oJu5wzQPDtQmD2PQ5auPBxneiMKtW7Yck6hsH",
        // specified language
        "language": "en_US",
        // defined attribute labels
        "attr_labels": {
          "email": "Email:",
          "firstname": "Given names:",
          "lastname": "Surname:",
          "salutation": "Preferred salutation:",
          "birthdate": "Date of birth:",
          "gender": "Sex:"
        },
        // defined categories
        "attr_categories": [
          "_cat-1_"
        ],
        // defined category labels
        "cat_labels": {
          "_cat-1_": "Personal"
        },
        // defined category attributes
        "cat_attributes": {
          "_cat-1_": [
            "email",
            "firstname",
            "lastname",
            "salutation",
            "birthdate",
            "gender"
          ]
        }
      }
</pre>
    </section>


</section>
<section>
    <h3>Optional Overlays</h3>
    <section>
        <h5>Mapping overlay</h5>
        Mapping overlay maps OCA attributes into internal systems which are not compatible with OCA yet. Allows to bridge legacy system with new data harmonization approach.
        <pre class="example">
    {
        // set the context - establishing the special terms to be used
        "@context": "https://oca.tech/overlays/v1",
        // the object type - declaring the structure of the object
        "type": "spec/overlay/mapping/1.0",
        // identifier for the issuer of the overlay
        "issued_by": "did:example:ebfeb1f712ebc6f1c276e12ec21",
        // the role of the main beneficiary of the overlay
        "role": "Data manager",
        // the purpose of the overlay
        "purpose": "Internal system identifiers",
        // the linking identifier for the schema base
        "schema_base": "hl:5vLMW87oJu5wzQPDtQmD2PQ5auPBxneiMKtW7Yck6hsH",
        // defined mappings
        "attr_mapping": {
          "email": "EMAIL",
          "firstname": "FRSTNAME",
          "lastname": "LASTNAME",
          "salutation": "TITLE",
          "birthdate": "BRTHDTC",
          "gender": "SEX"
        }
      }
        </pre>
    </section>


    <section>
        <h5>Information overlay</h5>
        Information Overlay is used to add instructional, informational or legal prose to assist the data entry process.
        <pre class="example">
{
    // set the context - establishing the special terms to be used
    "@context": "https://oca.tech/overlays/v1",
    // the object type - declaring the structure of the object
    "type": "spec/overlay/information/1.0",
    // identifier for the issuer of the overlay
    "issued_by": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    // the role of the main beneficiary of the overlay
    "role": "",
    // the purpose of the overlay
    "purpose": "",
    // the linking identifier for the schema base
    "schema_base": "hl:5vLMW87oJu5wzQPDtQmD2PQ5auPBxneiMKtW7Yck6hsH",
    // specified language
    "language": "en_US",
    // defined information
    "attr_information": {
      "email": "An email address.",
      "firstname": "A person's first (given) name.",
      "lastname": "A person's surname.",
      "salutation": "A person's desired salutation.",
      "birthdate": "A person's birthdate and optionally birthtime in RFC 3339 format.",
      "gender": "A person's gender."
    }
  }
    </pre>
    </section>

    <section>
        <h5>Masking overlay</h5>
        Masking overlay is used to define algorithms and mechanism to anonymize data while storing them. It can be used on multiple stages while processing the data.
        <pre class="example">
    {
        // set the context - establishing the special terms to be used
        "@context": "https://oca.tech/overlays/v1",
        // the object type - declaring the structure of the object
        "type": "spec/overlay/masking/1.0",
        // identifier for the issuer of the overlay
        "issued_by": "did:example:ebfeb1f712ebc6f1c276e12ec21",
        // the role of the main beneficiary of the overlay
        "role": "Data scientist",
        // the purpose of the overlay
        "purpose": "Date shifting",
        // the linking identifier for the schema base
        "schema_base": "hl:5vLMW87oJu5wzQPDtQmD2PQ5auPBxneiMKtW7Yck6hsH",
        // defined data masks
        "attr_masking": {
          "birthdate": "KBA1812"
        }
      }
</pre>
    </section>
    <section>
        <h5>Risk Overlay</h5>
        
        <pre class="example">
    {
        // set the context - establishing the special terms to be used
        "@context": "https://oca.tech/overlays/v1",
        // the object type - declaring the structure of the object
        "type": "spec/overlay/risk/1.0",
        // identifier for the issuer of the overlay
        "issued_by": "did:example:ebfeb1f712ebc6f1c276e12ec21",
        // the role of the main beneficiary of the overlay
        "role": "",
        // the purpose of the overlay
        "purpose": "",
        // the linking identifier for the schema base
        "schema_base": "hl:5vLMW87oJu5wzQPDtQmD2PQ5auPBxneiMKtW7Yck6hsH",
        // defined risk values
        "attr_risks": {
          "email": 10,
          "firstname": 10,
          "lastname": 10,
          "salutation": 1,
          "birthdate": 10,
          "gender": 3
        }
      }
</pre>
    </section>
    <section>
        <h5>Source overlay</h5>
        Source overlay provides information about dynamic data sources as an input. E.g. stream of data. Balance of the bank account or stream of health data captured by medical device.
        <pre class="example">
    {
        // set the context - establishing the special terms to be used
        "@context": "https://oca.tech/overlays/v1",
        // the object type - declaring the structure of the object
        "type": "spec/overlay/source/1.0",
        // identifier for the issuer of the overlay
        "issued_by": "did:example:ebfeb1f712ebc6f1c276e12ec21",
        // the role of the main beneficiary of the overlay
        "role": "Human Resources",
        // the purpose of the overlay
        "purpose": "Internal curation",
        // the linking identifier for the schema base
        "schema_base": "hl:5vLMW87oJu5wzQPDtQmD2PQ5auPBxneiMKtW7Yck6hsH",
        // defined source endpoints
        "attr_source": {
          "email": "https://repository.example.network/api/v1/employees/5vLMW87"
        }
      }
</pre>
    </section>
    <section>
        <h5>Subset overlay</h5>
        Subset overlay allows to create subset of schema base. E.g. limit the amount of attributes needed for specific use case without loosing the context of used schema base.
        <pre class="example">
    {
        // set the context - establishing the special terms to be used
        "@context": "https://oca.tech/overlays/v1",
        // the object type - declaring the structure of the object
        "type": "spec/overlay/subset/1.0",
        // the linking identifier for the schema base
        "schema_base": "hl:5vLMW87oJu5wzQPDtQmD2PQ5auPBxneiMKtW7Yck6hsH",
        // list of attributes to be included in the schema subset 
        "attr_subset": [
          "firstname",
          "lastname"
        ]
      }
</pre>
    </section>

    <section>
        <h5>Unit Overlay</h5>
        Stores information about unit used to capture the input data. E.g. kilometrs, metr, centimetrs etc. Potentially could be merged with format overaly.
    </section>

    <section>
        <h5>Type Overlay</h5>
        Stores information about specific types of attributes. Potentially could be merged with format overaly.
    </section>

    <section>
        <h5>Binary-to-text and Order Overlay</h5>
        Binary-to-text overaly provides information about algorithms used to encode specific attributes. Used in ZKP.  
    </section>

</section>