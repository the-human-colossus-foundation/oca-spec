<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.14" />
    <style>
      :root {
        --c-bg: #fff;
      }

      html.dark {
        --c-bg: #22272e;
      }

      html,
      body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches
      if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
        document.documentElement.classList.toggle('dark', true)
      }
    </script>
    <title>OCA File | Overlays Capture Architecture</title><meta name="description" content="Official OCA resources">
    <link rel="preload" href="/assets/style-DbmaAKEt.css" as="style"><link rel="stylesheet" href="/assets/style-DbmaAKEt.css">
    <link rel="modulepreload" href="/assets/app-iW2lecvr.js"><link rel="modulepreload" href="/assets/ocafile.html-D8rQ0jTF.js">
    <link rel="prefetch" href="/assets/index.html-wnukCs8_.js" as="script"><link rel="prefetch" href="/assets/community.html-U4kquvJE.js" as="script"><link rel="prefetch" href="/assets/contribute.html-DN2mUaWh.js" as="script"><link rel="prefetch" href="/assets/oca-bin.html-DymbWn-w.js" as="script"><link rel="prefetch" href="/assets/oca-browser.html-B1UPlclR.js" as="script"><link rel="prefetch" href="/assets/oca-bundle.html-a0EsIe6J.js" as="script"><link rel="prefetch" href="/assets/oca-data-vault.html-CNgupb5L.js" as="script"><link rel="prefetch" href="/assets/oca-file.html-NXh0FBM0.js" as="script"><link rel="prefetch" href="/assets/oca-parser.html-Dn6GUR4U.js" as="script"><link rel="prefetch" href="/assets/oca-presenter.html-q5Dv5bne.js" as="script"><link rel="prefetch" href="/assets/oca-repository.html-JKpGIvFi.js" as="script"><link rel="prefetch" href="/assets/oca-validator.html-DnGJJuT5.js" as="script"><link rel="prefetch" href="/assets/faq.html-Ckcm1CLc.js" as="script"><link rel="prefetch" href="/assets/introduction.html-DQNhAA8K.js" as="script"><link rel="prefetch" href="/assets/oca-vs-others-comparison.html-C93fIdJT.js" as="script"><link rel="prefetch" href="/assets/references.html-BHbzcKqH.js" as="script"><link rel="prefetch" href="/assets/index.html-TuQE28KB.js" as="script"><link rel="prefetch" href="/assets/ocafile.html-BfqLtLxe.js" as="script"><link rel="prefetch" href="/assets/v1.0.1.html-DU9TCF2k.js" as="script"><link rel="prefetch" href="/assets/index.html-BXpyb8MS.js" as="script"><link rel="prefetch" href="/assets/swiss-passport-example.html-BGWzlk52.js" as="script"><link rel="prefetch" href="/assets/getting-started.html-BRXzt2yR.js" as="script"><link rel="prefetch" href="/assets/404.html-BhtzgtcL.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon"><!--[--><header class="vp-navbar"><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><!----><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Overlays Capture Architecture</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Guide"><span class="title">Guide</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Decentralized Semantics</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/guide/introduction.html" aria-label="Introduction"><!---->Introduction<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/guide/applications/" aria-label="Applications"><!---->Applications<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/guide/faq.html" aria-label="FAQ"><!---->FAQ<!----></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Practical usage</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/guide/usage/getting-started.html" aria-label="Getting Started"><!---->Getting Started<!----></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Specification"><span class="title">Specification</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Specification"><span class="title">Specification</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/specification/" aria-label="OCA v2.0.0-rc1"><!---->OCA v2.0.0-rc1<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/specification/ocafile.html" aria-label="OCAFile v1.0.0"><!---->OCAFile v1.0.0<!----></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/the-human-colossus-foundation/oca-spec" aria-label="Contribute" rel="noopener noreferrer" target="_blank"><!---->Contribute<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Ecosystem"><span class="title">Ecosystem</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Ecosystem"><span class="title">Ecosystem</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/ecosystem/oca-bin.html" aria-label="OCA Bin"><!---->OCA Bin<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/ecosystem/ocafile.html" aria-label="OCA File"><!---->OCA File<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/ecosystem/oca-bundle.html" aria-label="OCA Bundle"><!---->OCA Bundle<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/ecosystem/oca-repository.html" aria-label="OCA Repository"><!---->OCA Repository<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/community.html" aria-label="Community"><!---->Community<!----></a></div><!--]--></nav><!--[--><!--]--><button class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar"><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Guide"><span class="title">Guide</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Decentralized Semantics</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/guide/introduction.html" aria-label="Introduction"><!---->Introduction<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/guide/applications/" aria-label="Applications"><!---->Applications<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/guide/faq.html" aria-label="FAQ"><!---->FAQ<!----></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Practical usage</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/guide/usage/getting-started.html" aria-label="Getting Started"><!---->Getting Started<!----></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Specification"><span class="title">Specification</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Specification"><span class="title">Specification</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/specification/" aria-label="OCA v2.0.0-rc1"><!---->OCA v2.0.0-rc1<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/specification/ocafile.html" aria-label="OCAFile v1.0.0"><!---->OCAFile v1.0.0<!----></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/the-human-colossus-foundation/oca-spec" aria-label="Contribute" rel="noopener noreferrer" target="_blank"><!---->Contribute<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Ecosystem"><span class="title">Ecosystem</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Ecosystem"><span class="title">Ecosystem</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/ecosystem/oca-bin.html" aria-label="OCA Bin"><!---->OCA Bin<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/ecosystem/ocafile.html" aria-label="OCA File"><!---->OCA File<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/ecosystem/oca-bundle.html" aria-label="OCA Bundle"><!---->OCA Bundle<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/ecosystem/oca-repository.html" aria-label="OCA Repository"><!---->OCA Repository<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/community.html" aria-label="Community"><!---->Community<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">OCA File <!----></p><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1>OCA File</h1><p>The <strong>OCA File</strong> is a concept that enables the expression of OCA Objects using a Domain Specific Language (DSL). The <a class="route-link" href="/specification/ocafile.html">specification</a> informative sections elaborate on the demand for a human-readable and machine-actionable language.</p><p>OCAFile conceptually encompasses the <a class="route-link" href="/ecosystem/oca-bundle.html">OCA Bundle</a> concept and enables the creation and manipulation of it.</p><h2 id="usage" tabindex="-1"><a class="header-anchor" href="#usage"><span>Usage</span></a></h2><p>OCAFile provides instructions for creating OCA Objects, such as Capture Bases and Overlays. The instructions reflect the <a class="route-link" href="/specification/">OCA specification</a>.</p><h3 id="ocafile-in-a-nutshell" tabindex="-1"><a class="header-anchor" href="#ocafile-in-a-nutshell"><span>OCAFile in a nutshell</span></a></h3><p>The construction of an OCAfile begins with the pivotal step of creating a Capture Base through the <code>ADD ATTRIBUTE</code> command. This step is foundational, setting the stage for the schema&#39;s development. The subsequent use of <code>ADD &lt;overlay-type&gt; ATTRS</code> for binding overlay types to the capture base introduces additional layers of complexity and functionality. Together, these commands form the bedrock of the OCAfile, enabling the creation of robust, multifaceted schemas that are capable of capturing and representing complex data structures and relationships within the OCA framework.</p><h3 id="create-an-ocafile" tabindex="-1"><a class="header-anchor" href="#create-an-ocafile"><span>Create an OCAFile</span></a></h3><p>Let&#39;s start with an example and then discuss instructions step by step. The following example is a simple <code>Entrance Credential</code> example:</p><div class="language-ocafile line-numbers-mode" data-highlighter="prismjs" data-ext="ocafile" data-title="ocafile"><pre class="language-ocafile"><code><span class="line">--name=EntranceCredential</span>
<span class="line">ADD ATTRIBUTE d=Text i=Text passed=Boolean</span>
<span class="line">ADD META en PROPS name=&quot;Entrance credential&quot; description=&quot;Entrance credential&quot;</span>
<span class="line">ADD CHARACTER_ENCODING ATTRS d=utf-8 i=utf-8 passed=utf-8</span>
<span class="line">ADD CONFORMANCE ATTRS d=M i=M passed=M</span>
<span class="line">ADD LABEL en ATTRS d=&quot;Schema digest&quot; i=&quot;Credential Issuee&quot; passed=&quot;Passed&quot;</span>
<span class="line">ADD LABEL pl ATTRS d=&quot;Identyfikator&quot; i=&quot;Wydawca&quot; passed=&quot;Pozwolenie&quot;</span>
<span class="line">ADD ATTRIBUTE select=Text</span>
<span class="line">ADD ENTRY_CODE ATTRS select=[&quot;o1&quot;, &quot;o2&quot;, &quot;o3&quot;]</span>
<span class="line">ADD ENTRY en ATTRS select={&quot;o1&quot;: &quot;Adult&quot;, &quot;o2&quot;: &quot;Childe&quot;, &quot;o3&quot;: &quot;Veteran&quot;}</span>
<span class="line">ADD ENTRY pl ATTRS select={&quot;o1&quot;: &quot;Dorosły&quot;, &quot;o2&quot;: &quot;Dziecko&quot;, &quot;o3&quot;: &quot;Weteran&quot;}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>Source: <a href="https://github.com/THCLab/ocafile-examples/blob/main/entrance-credential.ocafile" target="_blank" rel="noopener noreferrer">entrance-credential.ocafile</a></em></p><p>Explanation:</p><ul><li>The <code>ADD ATTRIBUTE</code> command defines the attributes of the OCA Capture Base.</li><li>The <code>ADD META</code> command defines the OCA Bundle&#39;s metadata.</li><li>The <code>ADD CHARACTER_ENCODING</code> command defines the character encoding of the attributes (<code>Character Encoding Overlay</code>).</li><li>The <code>ADD CONFORMANCE</code> command defines the conformance of the attributes (<code>Conformance Overlay</code>).</li><li>The <code>ADD LABEL</code> command defines the labels for the attributes (<code>Label Overlay</code>).</li><li>The <code>ADD ENTRY_CODE</code> command defines the entry code for the attributes (<code>Entry Code Overlay</code>).</li><li>The <code>ADD ENTRY</code> command defines the entries for the attributes (<code>Entry Overlay</code>).</li></ul><h3 id="build-an-ocafile" tabindex="-1"><a class="header-anchor" href="#build-an-ocafile"><span>Build an OCAFile</span></a></h3><p>You can build an OCAFile using the OCA Bin. The following command builds the <code>Entrance Credential</code> example:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">$ ./oca build <span class="token parameter variable">--ocafile</span> entrance-credential.ocafile</span>
<span class="line"></span>
<span class="line"><span class="token comment"># OCA bundle created in local repository with SAID: EKvrSBy4Nu29oFF-q4NubgvTLWe4G3yRcEo3zoFjr9hd</span></span>
<span class="line"><span class="token comment"># and name: EntranceCredential</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="alter-an-ocafile" tabindex="-1"><a class="header-anchor" href="#alter-an-ocafile"><span>Alter an OCAFile</span></a></h3><p>You can alter an OCAFile and add instructions to modify or extend an existing Bundle. You can do it by appending the <code>entrance-credential.ocafile</code> from above or using the <code>FROM</code> command. We demonstrate the latter approach. Let&#39;s add a new attribute to the <code>Entrance Credential</code> example:</p><div class="language-ocafile line-numbers-mode" data-highlighter="prismjs" data-ext="ocafile" data-title="ocafile"><pre class="language-ocafile"><code><span class="line">--name=ExpiringEntranceCredential</span>
<span class="line">FROM EKvrSBy4Nu29oFF-q4NubgvTLWe4G3yRcEo3zoFjr9hd # This is the SAID of the EntranceCredential</span>
<span class="line">ADD ATTRIBUTE expires=DateTime</span>
<span class="line">ADD CONFORMANCE ATTRS expires=M</span>
<span class="line">ADD LABEL en ATTRS expires=&quot;Expiration date&quot;</span>
<span class="line">ADD LABEL pl ATTRS expires=&quot;Data wygaśnięcia&quot;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>Source: <code>expiring-entrance-credential.ocafile</code></em></p><p>Let&#39;s now build the <code>Expiring Entrance Credential</code>:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">$ ./oca build <span class="token parameter variable">--ocafile</span> expiring-entrance-credential.ocafile</span>
<span class="line"></span>
<span class="line"><span class="token comment"># OCA bundle created in local repository with SAID: EHGzoceOvAbrgDHZZXTPAOD_zzVhuVjTwF9DAXEmynfE</span></span>
<span class="line"><span class="token comment"># and name: ExpiringEntranceCredential</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="commands" tabindex="-1"><a class="header-anchor" href="#commands"><span>Commands</span></a></h2><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>All commands are case-insensitive. The commands are written in uppercase for clarity.</p></div><h3 id="add" tabindex="-1"><a class="header-anchor" href="#add"><span>ADD</span></a></h3><p>The <code>ADD</code> operation enables the actual creation of OCA Objects.</p><h4 id="add-attribute" tabindex="-1"><a class="header-anchor" href="#add-attribute"><span>ADD ATTRIBUTE</span></a></h4><p>Adds attributes to the Capture Base. Supports adding multiple attributes at once.</p><div class="language-ocafile line-numbers-mode" data-highlighter="prismjs" data-ext="ocafile" data-title="ocafile"><pre class="language-ocafile"><code><span class="line">ADD ATTRIBUTE d=Text i=Text passed=Boolean</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><em>Example: <code>ADD ATTRIBUTE</code></em></p><h4 id="add-flagged-attributes" tabindex="-1"><a class="header-anchor" href="#add-flagged-attributes"><span>ADD FLAGGED_ATTRIBUTES</span></a></h4><p>Adds flagged attributes, so-called <a href="https://en.wikipedia.org/wiki/Personal_data" target="_blank" rel="noopener noreferrer"> PIIs </a>, to the Capture Base. Supports adding multiple attributes at once:</p><div class="language-ocafile line-numbers-mode" data-highlighter="prismjs" data-ext="ocafile" data-title="ocafile"><pre class="language-ocafile"><code><span class="line">ADD FLAGGED_ATTRIBUTES name surname email</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><em>Example: <code>ADD FLAGGED_ATTRIBUTES</code></em></p><h4 id="add-character-encoding" tabindex="-1"><a class="header-anchor" href="#add-character-encoding"><span>ADD CHARACTER_ENCODING</span></a></h4><p>Adds character encoding to the attributes. Supports adding multiple attributes at once.</p><div class="language-ocafile line-numbers-mode" data-highlighter="prismjs" data-ext="ocafile" data-title="ocafile"><pre class="language-ocafile"><code><span class="line">ADD CHARACTER_ENCODING ATTRS d=utf-8 i=utf-8 passed=utf-8</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><em>Example: <code>ADD CHARACTER_ENCODING</code></em></p><p>Supported encodings:</p><ul><li><code>base64</code></li><li><code>utf-8</code></li><li><code>iso-8859-1</code></li><li><code>utf-16</code></li><li><code>utf-16be</code></li><li><code>utf-16le</code></li></ul><h4 id="add-format" tabindex="-1"><a class="header-anchor" href="#add-format"><span>ADD FORMAT</span></a></h4><p>Specifies attribute format. Useful, i.e., for binary data.</p><div class="language-ocafile line-numbers-mode" data-highlighter="prismjs" data-ext="ocafile" data-title="ocafile"><pre class="language-ocafile"><code><span class="line">ADD ATTRIBUTE image=Binary</span>
<span class="line">ADD FORMAT ATTR image=&quot;image/png&quot;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><em>Example: <code>ADD FORMAT</code></em></p><h4 id="add-label" tabindex="-1"><a class="header-anchor" href="#add-label"><span>ADD LABEL</span></a></h4><p>Adds localized human-readable labels to the attributes. Supports adding multiple attributes at once.</p><p>The <code>LABEL</code> command is localized and expects the <code>ISO 639</code> language code in the command input.</p><div class="language-ocafile line-numbers-mode" data-highlighter="prismjs" data-ext="ocafile" data-title="ocafile"><pre class="language-ocafile"><code><span class="line">ADD LABEL en ATTRS d=&quot;Schema digest&quot; i=&quot;Credential Issuee&quot; passed=&quot;Passed&quot;</span>
<span class="line">ADD LABEL pl ATTRS d=&quot;Identyfikator&quot; i=&quot;Wystawca&quot; passed=&quot;Pozwolenie&quot;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><em>Example: <code>ADD LABEL</code></em></p><h4 id="add-meta" tabindex="-1"><a class="header-anchor" href="#add-meta"><span>ADD META</span></a></h4><p>Adds localized human-readable metadata to the OCA Bundle. Support <code>name</code> and <code>description</code> properties.</p><p>The <code>META</code> command is localized and expects the <code>ISO 639</code> language code in the command input.</p><div class="language-ocafile line-numbers-mode" data-highlighter="prismjs" data-ext="ocafile" data-title="ocafile"><pre class="language-ocafile"><code><span class="line">ADD META en PROPS name=&quot;Entrance credential&quot; description=&quot;Entrance credential&quot;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><em>Example: <code>ADD META</code></em></p><h4 id="add-cardinality" tabindex="-1"><a class="header-anchor" href="#add-cardinality"><span>ADD CARDINALITY</span></a></h4><p>Adds <a href="https://en.wikipedia.org/wiki/Cardinality" target="_blank" rel="noopener noreferrer"> cardinality </a> property to the attributes. Supports adding multiple attributes at once.</p><div class="language-ocafile line-numbers-mode" data-highlighter="prismjs" data-ext="ocafile" data-title="ocafile"><pre class="language-ocafile"><code><span class="line">ADD ATTRIBUTE tools=Array[Text]</span>
<span class="line">ADD CARDINALITY ATTRS tools=&quot;1-&quot;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><em>Example: <code>ADD CARDINALITY</code></em></p><p>See <a class="route-link" href="/specification/#cardinality-overlay">the spec</a> for the available cardinality options.</p><h4 id="add-conformance" tabindex="-1"><a class="header-anchor" href="#add-conformance"><span>ADD CONFORMANCE</span></a></h4><p>Adds conformance property to the attributes. Supports adding multiple attributes at once.</p><div class="language-ocafile line-numbers-mode" data-highlighter="prismjs" data-ext="ocafile" data-title="ocafile"><pre class="language-ocafile"><code><span class="line">ADD CONFORMANCE ATTRS passed=M</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><em>Example: <code>ADD CARDINALITY</code></em></p><p>The attribute conformance can be set to either M (mandatory) or O (optional).</p><h4 id="add-entry-code" tabindex="-1"><a class="header-anchor" href="#add-entry-code"><span>ADD ENTRY_CODE</span></a></h4><p>Adds entry codes to the attribute. Supports adding multiple attributes at once.</p><div class="language-ocafile line-numbers-mode" data-highlighter="prismjs" data-ext="ocafile" data-title="ocafile"><pre class="language-ocafile"><code><span class="line">ADD ENTRY_CODE ATTRS gender=[&quot;m&quot;, &quot;f&quot;, &quot;o&quot;]</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><em>Example: <code>ADD ENTRY_CODE</code></em></p><h4 id="add-entry" tabindex="-1"><a class="header-anchor" href="#add-entry"><span>ADD ENTRY</span></a></h4><p>Adds entries to the attribute. Supports adding multiple attributes at once.</p><div class="language-ocafile line-numbers-mode" data-highlighter="prismjs" data-ext="ocafile" data-title="ocafile"><pre class="language-ocafile"><code><span class="line">ADD ENTRY en ATTRS gender={&quot;m&quot;: &quot;Male&quot;, &quot;f&quot;: &quot;Female&quot;, &quot;o&quot;: &quot;Other&quot;}</span>
<span class="line">ADD ENTRY pl ATTRS gender={&quot;m&quot;: &quot;Mężczyzna&quot;, &quot;f&quot;: &quot;Kobieta&quot;, &quot;o&quot;: &quot;Inne&quot;}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><em>Example: <code>ADD ENTRY</code></em></p><h3 id="from" tabindex="-1"><a class="header-anchor" href="#from"><span>FROM</span></a></h3><p>The <code>FROM</code> operation extends an existing OCA Bundle without modifying it. It creates a new OCA Bundle with a new SAID that includes the original Bundle.</p><div class="language-ocafile line-numbers-mode" data-highlighter="prismjs" data-ext="ocafile" data-title="ocafile"><pre class="language-ocafile"><code><span class="line">FROM EKvrSBy4Nu29oFF-q4NubgvTLWe4G3yRcEo3zoFjr9hd</span>
<span class="line"></span>
<span class="line">ADD ATTRIBUTE expires=DateTime</span>
<span class="line">#...more commands...</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="basic-types" tabindex="-1"><a class="header-anchor" href="#basic-types"><span>Basic Types</span></a></h2><p>OCAFile supports all the types defined in <a class="route-link" href="/specification/#attribute-type">OCA specification</a>. The following types are available:</p><ul><li><code>Array</code></li><li><code>Binary</code></li><li><code>Boolean</code></li><li><code>DateTime</code></li><li><code>Numeric</code></li><li><code>Text</code></li></ul><h2 id="references" tabindex="-1"><a class="header-anchor" href="#references"><span>References</span></a></h2><p>To establish relationships among OCA Bundles, OCAFile supports references. The reference mechanism mimics <a href="https://en.wikipedia.org/wiki/Foreign_key" target="_blank" rel="noopener noreferrer">foreign key</a> concept widely known in relational databases.</p><p>The process of creating a relationship between OCA Bundles consists of two steps:</p><ol><li>Define an OCAFile that will be referred to (<code>origin OCAFile</code>).</li><li>Refer to the origin OCAFile in another OCAFile (<code>destination OCAFile</code>).</li></ol><h3 id="reference-types" tabindex="-1"><a class="header-anchor" href="#reference-types"><span>Reference types</span></a></h3><p>There are two ways to establish a relationship between OCA Bundles</p><h4 id="refs-directive" tabindex="-1"><a class="header-anchor" href="#refs-directive"><span><code>refs</code> directive</span></a></h4><p>In the <code>destination OCAFile</code>, use the <code>refs</code> prefix that resolves to <code>SAID reference</code> and expects the SAID of the referred OCA Bundle (the product of <code>origin OCAFile</code>).</p><div class="language-ocafile line-numbers-mode" data-highlighter="prismjs" data-ext="ocafile" data-title="ocafile"><pre class="language-ocafile"><code><span class="line">ADD ATTRIBUTE customer=refs:ENqVB-2SpRIJTaqeaGfQNKQ580rvDc1QUJUswJYyze7Y</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><em><code>refs</code> example. Customer SAID refers to <code>customer.ocafile</code> defined below.</em></p><p>The <code>customer</code> attribute defined using <code>refs</code> gets the same characteristics as any other attribute. It can have labels, conformance, and other properties.</p><h4 id="refn-directive" tabindex="-1"><a class="header-anchor" href="#refn-directive"><span><code>refn</code> directive</span></a></h4><p>In the <code>destination OCAFile</code>, use the <code>refn</code> prefix that resolves to a <code>named reference</code> and expects the name of the referred OCA Bundle. The name of the Bundle is set implicitly using <code>--name</code> directive in its source OCAFile. Furthermore, it resolves locally using only the <a class="route-link" href="/ecosystem/oca-bin.html"> OCA Bin </a> command line interface.</p><p>The <code>refn</code> directive creates a reference that can be resolved using a human-readable name rather than a digest (<code>SAID</code>). This is useful when working with a large number of OCAFiles as it reduces the complexity of maintaining references via immutable SAIDs. Working with <code>origin OCAFile</code> doesn&#39;t require the SAID change in <code>destination OCAFile</code> every time it changes.</p><div class="language-ocafile line-numbers-mode" data-highlighter="prismjs" data-ext="ocafile" data-title="ocafile"><pre class="language-ocafile"><code><span class="line">ADD ATTRIBUTE customer=refn:Customer</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><em><code>refn</code> example. Customer SAID refers to <code>customer.ocafile</code> defined below.</em></p><p>The <code>customer</code> attribute defined using <code>refn</code> gets the same characteristics as any other attribute. It can have labels, conformance, and other properties.</p><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>The <code>refn</code> directive works solely in a local environment in collaboration with the <a class="route-link" href="/ecosystem/oca-bin.html"> OCA Bin </a>.</p></div><h3 id="relationships" tabindex="-1"><a class="header-anchor" href="#relationships"><span>Relationships</span></a></h3><h4 id="has-one" tabindex="-1"><a class="header-anchor" href="#has-one"><span>Has one</span></a></h4><p>Let&#39;s consider the following OCAFiles as an example:</p><p><em><code>customer.ocafile</code></em></p><div class="language-ocafile line-numbers-mode" data-highlighter="prismjs" data-ext="ocafile" data-title="ocafile"><pre class="language-ocafile"><code><span class="line">--name=Customer</span>
<span class="line">ADD ATTRIBUTE name=Text address=Text</span>
<span class="line">ADD LABEL en ATTRS name=&quot;Name&quot; address=&quot;Address&quot;</span>
<span class="line">ADD LABEL pl ATTRS name=&quot;Nazwa klienta&quot; address=&quot;Adres&quot;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em><code>invoice.ocafile</code></em></p><div class="language-ocafile line-numbers-mode" data-highlighter="prismjs" data-ext="ocafile" data-title="ocafile"><pre class="language-ocafile"><code><span class="line">--name=Invoice</span>
<span class="line">ADD ATTRIBUTE issued=DateTime customer=refn:Customer</span>
<span class="line">ADD CONFORMANCE ATTRS issued=M</span>
<span class="line">ADD LABEL en ATTRS issued=&quot;Issued date&quot;</span>
<span class="line">ADD LABEL pl ATTRS issued=&quot;Data wystawienia&quot;</span>
<span class="line">ADD LABEL en ATTRS customer=&quot;Customer&quot;</span>
<span class="line">ADD LABEL pl ATTRS customer=&quot;Klient&quot;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Running the <code>OCA Bin</code>:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">$ ./oca build  <span class="token parameter variable">--ocafile</span> customer.ocafile</span>
<span class="line"><span class="token comment"># OCA bundle created in local repository with SAID: ENqVB-2SpRIJTaqeaGfQNKQ580rvDc1QUJUswJYyze7Y</span></span>
<span class="line"><span class="token comment"># and name: Customer</span></span>
<span class="line"></span>
<span class="line">$ ./oca build  <span class="token parameter variable">--ocafile</span> invoice.ocafile</span>
<span class="line"><span class="token comment"># OCA bundle created in local repository with SAID: EC2TrdZ8koM8w-zUZm1r0LUcUp9VHFrcuMOrs7WmsD0Z</span></span>
<span class="line"><span class="token comment"># and name: Invoice</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We have two OCAFiles: <code>customer.ocafile</code> and <code>invoice.ocafile</code>. The <code>customer.ocafile</code> defines a unique name using the <code>--name=Customer</code> directive.</p><p>The <code>invoice.ocafile</code> defines the <code>customer</code> attribute as <code>customer=refn:Customer</code>. It establishes a relationship between the <code>Invoice</code> and <code>Customer</code> OCA Bundles and specifically says that <code>Invoice has one Customer</code>.</p><h4 id="has-many" tabindex="-1"><a class="header-anchor" href="#has-many"><span>Has many</span></a></h4><p>Let&#39;s define the <code>Line Item</code> OCAFile for the invoice:</p><div class="language-ocafile line-numbers-mode" data-highlighter="prismjs" data-ext="ocafile" data-title="ocafile"><pre class="language-ocafile"><code><span class="line">--name=LineItem</span>
<span class="line">ADD ATTRIBUTE product=Text quantity=Numeric price=Numeric</span>
<span class="line">ADD CONFORMANCE ATTRS product=M quantity=M price=M</span>
<span class="line">ADD LABEL en ATTRS product=&quot;Product&quot; quantity=&quot;Quantity&quot; price=&quot;Price&quot;</span>
<span class="line">ADD LABEL pl ATTRS product=&quot;Produkt&quot; quantity=&quot;Ilość&quot; price=&quot;Cena&quot;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em><code>line-item.ocafile</code></em></p><p>and extend the <code>invoice.ocafile</code> from <a href="#has-one">Has one</a> section:</p><div class="language-ocafile line-numbers-mode" data-highlighter="prismjs" data-ext="ocafile" data-title="ocafile"><pre class="language-ocafile"><code><span class="line">-- name=InvoiceWithLineItems</span>
<span class="line"># FROM currently lacks the `refn` support :-(</span>
<span class="line">FROM EC2TrdZ8koM8w-zUZm1r0LUcUp9VHFrcuMOrs7WmsD0Z # This is the SAID of the Invoice</span>
<span class="line"></span>
<span class="line">ADD ATTRIBUTE lineItems=Array[refn:LineItem]</span>
<span class="line">ADD LABEL en ATTRS lineItems=&quot;Line Items&quot;</span>
<span class="line">ADD LABEL pl ATTRS lineItems=&quot;Pozycje&quot;</span>
<span class="line">ADD CARDINALITY ATTRS lineItems=&quot;1-&quot;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em><code>invoice-with-line-items.ocafile</code></em></p><p>Running the <code>OCA Bin</code>:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">$ ./oca build  <span class="token parameter variable">--ocafile</span> line-item.ocafile</span>
<span class="line"></span>
<span class="line"><span class="token comment"># OCA bundle created in local repository with SAID: ED-lSEZPr1W5M7zRgYEWbnBwhNawOgnesrXUB34_mD6o</span></span>
<span class="line"><span class="token comment"># and name: LineItem</span></span>
<span class="line"></span>
<span class="line">$ ./oca build  <span class="token parameter variable">--ocafile</span> invoice-with-line-items.ocafile</span>
<span class="line"><span class="token comment"># OCA bundle created in local repository with SAID: EEYxTLl68T_Yl1EYzcW40bqefsvrggw5-6cWYqFUmIAz</span></span>
<span class="line"><span class="token comment"># and name: InvoiceWithLineItems</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>invoice-with-line-items.ocafile</code> extends the <code>Invoice</code> OCA Bundle with the <code>lineItems</code> attribute, an array of <code>LineItem</code>. It establishes a relationship between the <code>Invoice</code> and <code>LineItem</code> OCA Bundles and says that <code>Invoice has many Line Items</code>.</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><!----></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-iW2lecvr.js" defer></script>
  </body>
</html>
