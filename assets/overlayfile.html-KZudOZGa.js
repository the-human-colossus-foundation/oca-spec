import{_ as n,c as a,d as e,o as i}from"./app-CDwp_fGw.js";const t="/images/Overlayfile.png",l={};function o(c,s){return i(),a("div",null,[...s[0]||(s[0]=[e('<h1>Overlayfile</h1><p>The <code>.overlayfile</code> is a text file that clearly defines the structure and schema of a given overlay. The community uses it to define the overlays necessary for their use cases within their ecosystem. A clear definition allows for the easy sharing of this information within and outside of the specific ecosystem. Separating the overlay definition from its usage will allow for proper governance of both in the future and provide solid support for the tooling.</p><p>The <code>overlayfile</code> can be used to define the schema of a new overlay, allowing it to be composed into an overlayset and imported into <code>oca-bin</code> or other tools for validation purposes. This supports the process of creating bundles from <code>.OCAFILEs</code>. The Overlays ecosystem can use overlay registries consisting of <code>.OCAFILEs</code> containing definitions of such overlays to distribute them. This makes it easy to import and reuse these objects across different ecosystems.</p><h1>Overlayfile in OCA Ecosystem</h1><p>The <code>overlayfile</code> is mainly used for validation purposes and to support any community overlays in the OCA ecosystem. The definition is machine-readable and can be used to validate the overlay against the schema defined in the <code>Overlayfile</code>. This allows for the easy sharing of overlays across different ecosystems and provides a standardized way of defining and validating them.</p><p>The diagram below shows the dependencies between <code>Overlayfile</code>, <code>OCAFile</code>, and <code>OCA Bundle</code>.</p><p><img src="'+t+`" alt="Overlayfile"></p><h2 id="benefits" tabindex="-1"><a class="header-anchor" href="#benefits"><span>Benefits</span></a></h2><ul><li>Out-of-the-box validation using standard OCA tooling.</li><li>Custom overlays and community-driven overlay development</li><li>Increase interoperability without sacrificing flexibility, allowing each ecosystem to define its own set of overlays.</li></ul><h2 id="usage" tabindex="-1"><a class="header-anchor" href="#usage"><span>Usage</span></a></h2><p>The simplest way to start building an <code>overlayfile</code> is to use <code>oca-bin</code>, which provides validation and the ability to test it directly with <code>OCAFILE</code>.</p><h3 id="example-use-case" tabindex="-1"><a class="header-anchor" href="#example-use-case"><span>Example use case</span></a></h3><p>Assume we want to create an ecosystem leveraging the Overlays Capture Architecture (OCA) as a semantic layer for our data. No matter what form the data takes—whether it&#39;s complex research records, structured documents, or simple verifiable credentials—we always begin by defining the meaning of the data itself. Before creating any schema, we establish a governance process to set baseline rules, specifying which overlays, definitions, and conventions schema creators must use. This ensures that everyone in our ecosystem and other ecosystems can have a common understanding of the information being modeled. Once these rules are in place, individual contributors can create schemas tailored to specific use cases while remaining fully interoperable with each other. Since all participants adhere to the same overlay definitions, their schemas can easily be understood and processed using standard OCA ecosystem tools, enabling seamless parsing, transformation, and interaction across different domains.</p><p>The simplest way to start is to use baseline overlays from the OCA specification and extend them according to your needs. The <a href="https://github.com/the-human-colossus-foundation/overlays-repository/blob/main/core.overlayfile" target="_blank" rel="noopener noreferrer">core overlays</a> can also serve as reference definitions, which simplify the whole process.</p><p>Now, let&#39;s create our first <code>overlayfile</code>.</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">ADD OVERLAY information</span>
<span class="line">  VERSION 1.0.0</span>
<span class="line">  ADD ATTRIBUTES language=Lang</span>
<span class="line">  ADD OBJECT attribute_information</span>
<span class="line">    with keys ATTR-NAMES</span>
<span class="line">    with values TEXT</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We can now validate it using the <code>oca-bin</code> tool.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token operator">&gt;</span> oca-bin validate <span class="token parameter variable">-o</span> information.overlayfile</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>If all goes well, we should see the following:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">Validation Successful</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Now that we are ready to use it in our <code>OCAFILE</code>, let&#39;s add it to our local overlay file registry. The command <code>oca-bin config</code> shows where the overlay definition path (<code>overlay_definition_path</code>) is located. Simply copy your file into that directory. For example:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token operator">&gt;</span> <span class="token function">cp</span> information.overlayfile <span class="token variable"><span class="token variable">$(</span>oca-bin config <span class="token operator">|</span> <span class="token function">awk</span> -F<span class="token string">&quot;&#39;&quot;</span> <span class="token string">&#39;/overlay_definition_path/ {print $2}&#39;</span><span class="token variable">)</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Now let&#39;s create OCAFILE with our new overlay, notice that <code>META</code> and <code>CHARACTER_ENCODING</code> are coming from core overlay definition and <code>INFORMATION</code> from our new overlay.</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">--name=bmi</span>
<span class="line">ADD ATTRIBUTE first_name=Text last_name=Text wgt=Numeric hgt=Numeric</span>
<span class="line"></span>
<span class="line"># Add meta data</span>
<span class="line">ADD Overlay Meta</span>
<span class="line">  language=&quot;en&quot;</span>
<span class="line">  name=&quot;Patient BMI&quot;</span>
<span class="line">  description=&quot;Standard 1 Patient BMI&quot;</span>
<span class="line"></span>
<span class="line"># Add character encoding</span>
<span class="line">ADD Overlay CHARACTER_ENCODING</span>
<span class="line">  attribute_character_encoding</span>
<span class="line">    first_name=&quot;utf-8&quot;</span>
<span class="line">    last_name=&quot;utf-8&quot;</span>
<span class="line">    wgt=&quot;utf-8&quot;</span>
<span class="line">    hgt=&quot;utf-8&quot;</span>
<span class="line"></span>
<span class="line">ADD Overlay Information</span>
<span class="line">  language=&quot;pl&quot;</span>
<span class="line">  attribute_information</span>
<span class="line">    first_name=&quot;Imię pacjenta&quot;</span>
<span class="line">    last_name=&quot;Nazwisko pacjenta&quot;</span>
<span class="line">    wgt=&quot;Waga pacjenta&quot;</span>
<span class="line">    hgt=&quot;Wzrost pacjenta&quot;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>bmi.ocafile</em></p><p>Save the file and build using <code>oca-bin build</code></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token operator">&gt;</span> oca-bin build <span class="token parameter variable">-f</span> bmi.ocafile</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>You can now see the newly created <code>OCA bundle</code> in your local repository.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token operator">&gt;</span> oca-bin list</span>
<span class="line">SAID: EPzk3xTq4q8zBwnRo-TC1rrvR_LVQOMCMjl6ij8hTkhI, name: bmi</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>if we inspect the <code>OCA bundle</code>, we should get the following:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token operator">&gt;</span> oca-bin get <span class="token parameter variable">-s</span> EPzk3xTq4q8zBwnRo-TC1rrvR_LVQOMCMjl6ij8hTkhI</span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string">&quot;digest&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;ENZVf16tqGEYrsxtvKHWLqbFiQt0gxfJb5OyWtM7adGR&quot;</span>,</span>
<span class="line">  <span class="token string">&quot;capture_base&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&quot;digest&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;EHZSMO2EFsXy8r5XogQ381-VmOiTUQYjV3WNkBfWYaCH&quot;</span>,</span>
<span class="line">    <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;capture_base/2.0.0&quot;</span>,</span>
<span class="line">    <span class="token string">&quot;attributes&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string">&quot;first_name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Text&quot;</span>,</span>
<span class="line">      <span class="token string">&quot;hgt&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Numeric&quot;</span>,</span>
<span class="line">      <span class="token string">&quot;last_name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Text&quot;</span>,</span>
<span class="line">      <span class="token string">&quot;wgt&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Numeric&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span>,</span>
<span class="line">  <span class="token string">&quot;overlays&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string">&quot;digest&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;EEP2Ri2aoUO4eOyJ2YtakT3WYF5bNfox_6fGRo9wwPuy&quot;</span>,</span>
<span class="line">      <span class="token string">&quot;capture_base&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;EHZSMO2EFsXy8r5XogQ381-VmOiTUQYjV3WNkBfWYaCH&quot;</span>,</span>
<span class="line">      <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;meta/2.0.0&quot;</span>,</span>
<span class="line">      <span class="token string">&quot;language&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;en&quot;</span>,</span>
<span class="line">      <span class="token string">&quot;description&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Standard 1 Patient BMI&quot;</span>,</span>
<span class="line">      <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Patient BMI&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span>,</span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string">&quot;digest&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;EI-srXiraePymApfgooUGWpFnr-s4ZPMEtzbqCAxLG7L&quot;</span>,</span>
<span class="line">      <span class="token string">&quot;capture_base&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;EHZSMO2EFsXy8r5XogQ381-VmOiTUQYjV3WNkBfWYaCH&quot;</span>,</span>
<span class="line">      <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;character_encoding/2.0.0&quot;</span>,</span>
<span class="line">      <span class="token string">&quot;attribute_character_encoding&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&quot;first_name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;utf-8&quot;</span>,</span>
<span class="line">        <span class="token string">&quot;last_name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;utf-8&quot;</span>,</span>
<span class="line">        <span class="token string">&quot;wgt&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;utf-8&quot;</span>,</span>
<span class="line">        <span class="token string">&quot;hgt&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;utf-8&quot;</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span>,</span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string">&quot;digest&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;ELKGKEF0EHl92SWtp2PobJ4i3hIMxT0i7IFeA6ISKoQd&quot;</span>,</span>
<span class="line">      <span class="token string">&quot;capture_base&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;EHZSMO2EFsXy8r5XogQ381-VmOiTUQYjV3WNkBfWYaCH&quot;</span>,</span>
<span class="line">      <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;information/1.0.0&quot;</span>,</span>
<span class="line">      <span class="token string">&quot;language&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;pl&quot;</span>,</span>
<span class="line">      <span class="token string">&quot;attribute_information&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&quot;first_name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Imię pacjenta&quot;</span>,</span>
<span class="line">        <span class="token string">&quot;last_name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Nazwisko pacjenta&quot;</span>,</span>
<span class="line">        <span class="token string">&quot;wgt&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Waga pacjenta&quot;</span>,</span>
<span class="line">        <span class="token string">&quot;hgt&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Wzrost pacjenta&quot;</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,31)])])}const r=n(l,[["render",o]]),u=JSON.parse('{"path":"/ecosystem/overlayfile.html","title":"Overlayfile","lang":"en-US","frontmatter":{},"git":{"updatedTime":1768846644000,"contributors":[{"name":"Robert Mitwicki","username":"","email":"robert.mitwicki@humancolossus.org","commits":1}],"changelog":[{"hash":"89b83130bafb30969f0ffab4cd17946b862cd43f","time":1768846644000,"email":"robert.mitwicki@humancolossus.org","author":"Robert Mitwicki","message":"Update examples in ocafile ecosystem"}]},"filePathRelative":"ecosystem/overlayfile.md"}');export{r as comp,u as data};
